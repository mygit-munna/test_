!function(t,e){"use strict";var s={init:function(){e.hooks.addAction("frontend/element_ready/section",s.elementSticky),e.hooks.addAction("frontend/element_ready/column",s.elementSticky),e.hooks.addAction("frontend/element_ready/widget",s.elementSticky),e.hooks.addAction("frontend/element_ready/container",s.elementSticky)},elementSticky:function(s){({$target:s,$observerTarget:null,elType:s.data("element_type"),elId:s.data("id"),isEditMode:Boolean(e.isEditMode()),settings:s.data("eac_settings-sticky")||{},stickySettings:"data-eac_settings-sticky",isSticky:!1,positionClass:"",optionsObserve:{root:null,rootMargin:"0px",threshold:1},intersectObserver:null,resizeObserver:null,adminBar:document.getElementById("wpadminbar"),sticky_top:null,init:function(){this.isEditMode||(Object.keys(this.settings).length>0&&void 0!==this.settings.sticky&&"yes"===this.settings.sticky&&this.isDeviceSelected()&&(this.adminBar?this.sticky_top=this.settings.up+this.adminBar.clientHeight+"px":this.sticky_top=this.settings.up+"px",this.isSticky=!0,this.positionClass=this.settings.class,this.settings.fixed?(this.optionsObserve.threshold=0,this.$observerTarget=t('<div id="eac-element_sticky-observer-'+this.elId+'" style="position:relative;"></div>').insertAfter(this.$target)):(this.$observerTarget=this.$target,this.optionsObserve.rootMargin="-"+this.settings.up+"px 0px -"+this.settings.down+"px 0px")),this.isSticky?window.IntersectionObserver&&(this.intersectObserver=new IntersectionObserver(this.observeElementInViewport.bind(this),this.optionsObserve),this.intersectObserver.observe(this.$observerTarget[0]),this.resizeObserver=new ResizeObserver(this.observeResizeViewport.bind(this)),this.resizeObserver.observe(this.$observerTarget[0])):this.cleanTarget())},observeElementInViewport:function(t,e){var s=this.settings;s.fixed&&0===t[0].intersectionRatio?(this.$target[0].classList.add(this.positionClass),this.$target[0].style.top=this.sticky_top,this.$target[0].style.zIndex=s.zindex):!s.fixed&&t[0].isIntersecting?(this.$target[0].classList.add(this.positionClass),this.$target[0].style.top=this.sticky_top,this.$target[0].style.bottom=s.down+"px",this.$target[0].style.zIndex=s.zindex,e.disconnect()):(this.$target[0].classList.remove(this.positionClass),this.$target[0].style.top="",this.$target[0].style.bottom="",this.$target[0].style.zIndex="auto")},observeResizeViewport:function(t){this.isDeviceSelected()?this.intersectObserver instanceof IntersectionObserver&&this.intersectObserver.observe(this.$observerTarget[0]):this.intersectObserver.disconnect()},isDeviceSelected:function(){var s=e.getCurrentDeviceMode(),i=this.settings;return null!=i&&-1!==t.inArray(s,i.devices)},cleanTarget:function(){this.$target.removeClass(this.positionClass),this.$target.removeAttr(this.stickySettings),this.$target.css("top",""),this.$target.css("bottom",""),this.$target.css("z-index","auto"),t("eac-element_sticky-observer-"+this.elId).remove()}}).init()}};t(window).on("elementor/frontend/init",s.init)}(jQuery,window.elementorFrontend);