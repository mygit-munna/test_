!function(e,a){"use strict";var i={init:function(){a.hooks.addAction("frontend/element_ready/eac-addon-lecteur-rss.default",i.widgetRssReader)},widgetRssReader:function(a){var i,t=a.find(".eac-rss-galerie"),r=a.find("#rss__options-items"),s=a.find("#rss__read-button"),n=a.find(".rss-item__header"),o=a.find("#rss__loader-wheel"),d=a.find("#rss_nonce").val(),l=a.find(".rss-galerie"),p=l.data("settings")||{},c=/(Macintosh|iPhone|iPod|iPad).*AppleWebKit.*Safari/i.test(navigator.userAgent);0!==Object.keys(p).length&&p.data_nombre&&p.data_longueur&&(i=new ajaxCallFeed,r.find("option:first").attr("selected","selected"),r.on("change",(function(a){a.preventDefault(),s.attr("aria-expanded","false"),e(".rss-galerie__item",l).remove(),n.html("")})),s.on("click touch",(function(a){a.preventDefault(),e(this).attr("aria-expanded","true"),e(".rss-galerie__item",l).remove(),n.html(""),i.init(e("#rss__options-items option:selected",t).val().replace(/\s+/g,""),d,p.data_id),o.show()})),e(document).ajaxComplete((function(a,t,r){if(r.ajaxOptions&&r.ajaxOptions===i.getOptions()){a.stopImmediatePropagation(),o.hide();var s=i.getItems();if(s.headError)return n.html('<span style="text-align:center; word-break:break-word;"><p>'+s.headError+"</p></span>"),!1;if(!s.rss)return n.html('<span style="text-align: center">Nothing to display</span>'),!1;var d=s.rss,m=s.profile,g=e("<div/>",{class:"rss-item__header-content"});m.headLogo&&n.append('<div class="rss-item__header-img"><a href="'+m.headLink+'" target="_blank" rel="nofollow noopener noreferrer"><img class="eac-image-loaded" src="'+m.headLogo+'" alt="'+m.headTitle+'"></a></div>'),g.append('<span><a href="'+m.headLink+'" target="_blank" rel="nofollow noopener noreferrer"><h2>'+m.headTitle.substring(0,27)+"...</h2></a></span>"),g.append("<span>"+m.headDescription+"</span>"),n.append(g),e.each(d,(function(a,i){if(a>=p.data_nombre)return!1;var t=e("<div/>",{class:"rss-galerie__item"}),r=e("<div/>",{class:"rss-galerie__content"});if(i.img&&p.data_img){var s="";s=i.img.match(/\.mp3|\.m4a/)?'<div class="rss-galerie__item-image"><audio controls preload="none" src="'+i.img+'" type="audio/mp3"></audio></div>':i.img.match(/\.mp4|\.m4v/)?'<div class="rss-galerie__item-image">'+(c?'<video controls preload="metadata" type="video/mp4">':'<video controls preload="none" type="video/mp4">')+'<source src="'+i.img+"\">Your browser doesn't support embedded videos</video></div>":i.img.match(/\.pdf/)?'<div class="rss-galerie__item-image"><a href="'+i.imgLink+'" data-elementor-open-lightbox="no" data-fancybox="rss-gallery" data-caption="'+i.title.replace(/"/g,"'")+'"><i class="fa fa-file-pdf-o" aria-hidden="true"></i></a></div>':p.data_lightbox?'<div class="rss-galerie__item-image"><a href="'+i.imgLink+'" data-elementor-open-lightbox="no" data-fancybox="rss-gallery" data-caption="'+i.title.replace(/"/g,"'")+'"><img class="eac-image-loaded" src="'+i.img+'"></a></div>':p.data_image_link?'<div class="rss-galerie__item-image"><a href="'+i.lien+'" target="_blank" rel="nofollow noopener noreferrer"><img class="eac-image-loaded" src="'+i.img+'"></a></div>':'<div class="rss-galerie__item-image"><img class="eac-image-loaded" src="'+i.img+'"></div>',r.append(s)}i.title=i.title.split(" ",12).join().replace(/,/g," ")+"...";var n='<div class="rss-galerie__item-link-post"><a href="'+i.lien+'" target="_blank" rel="nofollow noopener noreferrer"><h2 class="rss-galerie__item-titre">'+i.title+"</h2></a></div>";r.append(n),i.description=i.description.split(" ",p.data_longueur).join().replace(/,/g," ")+"[...]";var o='<div class="rss-galerie__item-description"><p>'+i.description+"</p></div>";if(r.append(o),p.data_date){var d=e("<div/>",{class:"rss-galerie__item-metas"}),m='<span class="rss-galerie__item-date"><i class="fa fa-calendar" aria-hidden="true"></i>'+new Date(i.update).toLocaleDateString()+"</span>",g='<span class="rss-galerie__item-auteur"><i class="fa fa-user" aria-hidden="true"></i>'+i.author+"</span>";d.append(m),i.author&&d.append(g),r.append(d)}t.append(r),l.append(t)})),setTimeout((function(){e(".rss-galerie__item",l).css({transition:"all 500ms linear",transform:"scale(1)"})}),200)}})))}};e(window).on("elementor/frontend/init",i.init)}(jQuery,window.elementorFrontend);